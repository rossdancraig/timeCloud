{% load static %}

<link rel="stylesheet" type="text/css" 
  href="{% static 'events/style.css' %}">

<h1> Categories </h1>

<a href="{% url 'event_recorder:category-create' %}"> Add New </a>
<p></p>

{% if categories_list %}
  <table id='categories_index_table'>
    <tr>
      <th>Category Name</th>
      <th>Parent Category</th>
    </tr>
    {% for category in categories_list %}
      <tr>
        <td>
          <a href=
            "{% url 'event_recorder:category-detail' category.id %}">
          {{ category.name }}</a>
        </td>
        <td> 
          {% if category.parent %}
            <a href=
              "{% url 'event_recorder:category-detail' category.parent.id %}">
            {{ category.parent.name }}</a>
          {% endif %}
        </td>
      </tr>
    {% endfor %}
  </table>
{% else %}
  <p>No categories are defined.</p>
{% endif %}
